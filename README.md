# Hospital Chatbot Project

# Tools/Action
## 用戶回答分析 & 出题
1. 分析提取用戶回答中的有效信息
2. 利用有效信息填写问卷 & 更新问卷状态

## 出题tool
1. 根据问卷填写状态和历史对话，选择下一道要问的题

我决定使用Plan-and-Execute Agent来实现这个agent，现在我给你关于这个应用的更多信息，你帮我规划一下这个Plan-and-Execute Agent该如何构成，给我开发这个agent提供一些参考。

补充信息如下，如果你还需要什么别的信息，请先询问我再给出你的回答：
背景信息：医院在患者接收治疗后的一段时间需要向患者发起一个问卷调查，但是以往医院直接让患者来填写问卷，许多患者不愿意。于是现在想要开发一个agent，来通过与患者聊天的这样一种患者更容易接受的方式，来在聊天中收集并填写问卷。并且顺带为患者提供个性化的营养膳食建议。

agent的具体功能需求：
1. 根据当前问卷填写状态，决定问卷问题的提问顺序/下一个要问的问题
2. 分析用户回答、从中提取关键信息，并且填写对应的问卷（需要考虑到有可能患者在回答某个问题时提供了额外信息，可以用于填写不止一个问卷问题）
3. 当用户的回答没有有效信息，或者是胡乱回答的，agent需要能够应对，并努力把对话引导回围绕问卷的聊天中。
4. 需要维护问卷的填写状态，提供set和get的接口
5. 在发现问卷填写完后，需要结合用户在聊天历史中提供的病情或其他信息，提供个性化的营养膳食建议，这个步骤需要类似知识问答的rag过程，基于从向量数据库中获取的营养膳食相关的信息来回答。